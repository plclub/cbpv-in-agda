<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>CBPV.Effects.EffectSoundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="22" class="Keyword">using</a> <a id="28" class="Symbol">(</a><a id="29" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="30" class="Symbol">;</a> <a id="32" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="36" class="Symbol">)</a>
<a id="38" class="Keyword">open</a> <a id="43" class="Keyword">import</a> <a id="50" href="Data.Product.html" class="Module">Data.Product</a> <a id="63" class="Keyword">using</a> <a id="69" class="Symbol">(</a><a id="70" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="73" class="Symbol">;</a> <a id="75" href="Data.Product.html#1369" class="Function">∃</a><a id="76" class="Symbol">;</a> <a id="78" href="Data.Product.html#1806" class="Function">∃-syntax</a><a id="86" class="Symbol">;</a> <a id="88" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="91" class="Symbol">)</a>

<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="CBPV.Effects.Terms.html" class="Module">CBPV.Effects.Terms</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Effects.html" class="Module">Effects</a>

<a id="146" class="Keyword">module</a> <a id="153" href="CBPV.Effects.EffectSoundness.html" class="Module">CBPV.Effects.EffectSoundness</a> <a id="182" class="Symbol">(</a><a id="183" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a> <a id="185" class="Symbol">:</a> <a id="187" href="Effects.html#109" class="Record">Effect</a><a id="193" class="Symbol">)</a> <a id="195" class="Keyword">where</a>

<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="CBPV.Effects.Semantics.html" class="Module">CBPV.Effects.Semantics</a> <a id="237" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a>
<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="CBPV.Effects.SemanticTyping.html" class="Module">CBPV.Effects.SemanticTyping</a> <a id="279" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="CBPV.Effects.SyntacticTyping.html" class="Module">CBPV.Effects.SyntacticTyping</a> <a id="322" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="CBPV.Effects.Types.html" class="Module">CBPV.Effects.Types</a> <a id="355" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a>
<a id="357" class="Keyword">open</a> <a id="362" href="Effects.html#109" class="Module">Effect</a> <a id="369" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a>
<a id="371" class="Keyword">open</a> <a id="376" href="Effects.html#886" class="Module">Properties</a> <a id="387" href="CBPV.Effects.EffectSoundness.html#183" class="Bound">E</a>

<a id="390" class="Keyword">mutual</a>
  <a id="fundamental-lemma-val"></a><a id="399" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="421" class="Symbol">:</a> <a id="423" href="CBPV.Effects.SyntacticTyping.html#374" class="Generalizable">Γ</a> <a id="425" href="CBPV.Effects.SyntacticTyping.html#542" class="Datatype Operator">⊢v</a> <a id="428" href="CBPV.Effects.Terms.html#791" class="Generalizable">V</a> <a id="430" href="CBPV.Effects.SyntacticTyping.html#542" class="Datatype Operator">⦂</a> <a id="432" href="CBPV.Effects.Types.html#389" class="Generalizable">A</a>
                        <a id="458" class="Symbol">→</a> <a id="460" href="CBPV.Effects.SyntacticTyping.html#374" class="Generalizable">Γ</a> <a id="462" href="CBPV.Effects.SemanticTyping.html#1485" class="Function Operator">⊨v</a> <a id="465" href="CBPV.Effects.Terms.html#791" class="Generalizable">V</a> <a id="467" href="CBPV.Effects.SemanticTyping.html#1485" class="Function Operator">⦂</a> <a id="469" href="CBPV.Effects.Types.html#389" class="Generalizable">A</a>
  <a id="473" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="495" class="Symbol">{</a><a id="496" class="Argument">Γ</a> <a id="498" class="Symbol">=</a> <a id="500" href="CBPV.Effects.EffectSoundness.html#500" class="Bound">Γ</a><a id="501" class="Symbol">}</a> <a id="503" href="CBPV.Effects.SyntacticTyping.html#591" class="InductiveConstructor">typeVar</a> <a id="511" class="Symbol">=</a>
    <a id="517" href="CBPV.Effects.SemanticTyping.html#1733" class="Function">semanticVar</a> <a id="529" class="Symbol">{</a><a id="530" class="Argument">Γ</a> <a id="532" class="Symbol">=</a> <a id="534" href="CBPV.Effects.EffectSoundness.html#500" class="Bound">Γ</a><a id="535" class="Symbol">}</a>
  <a id="539" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="561" class="Symbol">{</a><a id="562" class="Argument">Γ</a> <a id="564" class="Symbol">=</a> <a id="566" href="CBPV.Effects.EffectSoundness.html#566" class="Bound">Γ</a><a id="567" class="Symbol">}</a> <a id="569" href="CBPV.Effects.SyntacticTyping.html#621" class="InductiveConstructor">typeUnit</a> <a id="578" class="Symbol">=</a>
    <a id="584" href="CBPV.Effects.SemanticTyping.html#1821" class="Function">semanticUnit</a> <a id="597" class="Symbol">{</a><a id="598" class="Argument">Γ</a> <a id="600" class="Symbol">=</a> <a id="602" href="CBPV.Effects.EffectSoundness.html#566" class="Bound">Γ</a><a id="603" class="Symbol">}</a>
  <a id="607" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="629" class="Symbol">{</a><a id="630" class="Argument">Γ</a> <a id="632" class="Symbol">=</a> <a id="634" href="CBPV.Effects.EffectSoundness.html#634" class="Bound">Γ</a><a id="635" class="Symbol">}</a> <a id="637" class="Symbol">(</a><a id="638" href="CBPV.Effects.SyntacticTyping.html#651" class="InductiveConstructor">typeThunk</a> <a id="648" href="CBPV.Effects.EffectSoundness.html#648" class="Bound">⊢M</a><a id="650" class="Symbol">)</a> <a id="652" class="Symbol">=</a>
    <a id="658" href="CBPV.Effects.SemanticTyping.html#1889" class="Function">semanticThunk</a> <a id="672" class="Symbol">{</a><a id="673" class="Argument">Γ</a> <a id="675" class="Symbol">=</a> <a id="677" href="CBPV.Effects.EffectSoundness.html#634" class="Bound">Γ</a><a id="678" class="Symbol">}</a> <a id="680" class="Symbol">(</a><a id="681" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="704" href="CBPV.Effects.EffectSoundness.html#648" class="Bound">⊢M</a><a id="706" class="Symbol">)</a>
  <a id="710" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="732" class="Symbol">{</a><a id="733" class="Argument">Γ</a> <a id="735" class="Symbol">=</a> <a id="737" href="CBPV.Effects.EffectSoundness.html#737" class="Bound">Γ</a><a id="738" class="Symbol">}</a> <a id="740" class="Symbol">(</a><a id="741" href="CBPV.Effects.SyntacticTyping.html#753" class="InductiveConstructor">typePair</a> <a id="750" href="CBPV.Effects.EffectSoundness.html#750" class="Bound">⊢V₁</a> <a id="754" href="CBPV.Effects.EffectSoundness.html#754" class="Bound">⊢V₂</a><a id="757" class="Symbol">)</a> <a id="759" class="Symbol">=</a>
    <a id="765" href="CBPV.Effects.SemanticTyping.html#2061" class="Function">semanticPair</a> <a id="778" class="Symbol">{</a><a id="779" class="Argument">Γ</a> <a id="781" class="Symbol">=</a> <a id="783" href="CBPV.Effects.EffectSoundness.html#737" class="Bound">Γ</a><a id="784" class="Symbol">}</a>
      <a id="792" class="Symbol">(</a><a id="793" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="815" href="CBPV.Effects.EffectSoundness.html#750" class="Bound">⊢V₁</a><a id="818" class="Symbol">)</a>
      <a id="826" class="Symbol">(</a><a id="827" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="849" href="CBPV.Effects.EffectSoundness.html#754" class="Bound">⊢V₂</a><a id="852" class="Symbol">)</a>
  <a id="856" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="878" class="Symbol">{</a><a id="879" class="Argument">Γ</a> <a id="881" class="Symbol">=</a> <a id="883" href="CBPV.Effects.EffectSoundness.html#883" class="Bound">Γ</a><a id="884" class="Symbol">}</a> <a id="886" class="Symbol">(</a><a id="887" href="CBPV.Effects.SyntacticTyping.html#894" class="InductiveConstructor">typeInl</a> <a id="895" href="CBPV.Effects.EffectSoundness.html#895" class="Bound">⊢V</a><a id="897" class="Symbol">)</a> <a id="899" class="Symbol">=</a>
    <a id="905" href="CBPV.Effects.SemanticTyping.html#2347" class="Function">semanticInl</a> <a id="917" class="Symbol">{</a><a id="918" class="Argument">Γ</a> <a id="920" class="Symbol">=</a> <a id="922" href="CBPV.Effects.EffectSoundness.html#883" class="Bound">Γ</a><a id="923" class="Symbol">}</a> <a id="925" class="Symbol">(</a><a id="926" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="948" href="CBPV.Effects.EffectSoundness.html#895" class="Bound">⊢V</a><a id="950" class="Symbol">)</a>
  <a id="954" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="976" class="Symbol">{</a><a id="977" class="Argument">Γ</a> <a id="979" class="Symbol">=</a> <a id="981" href="CBPV.Effects.EffectSoundness.html#981" class="Bound">Γ</a><a id="982" class="Symbol">}</a> <a id="984" class="Symbol">(</a><a id="985" href="CBPV.Effects.SyntacticTyping.html#991" class="InductiveConstructor">typeInr</a> <a id="993" href="CBPV.Effects.EffectSoundness.html#993" class="Bound">⊢V</a><a id="995" class="Symbol">)</a> <a id="997" class="Symbol">=</a>
    <a id="1003" href="CBPV.Effects.SemanticTyping.html#2524" class="Function">semanticInr</a> <a id="1015" class="Symbol">{</a><a id="1016" class="Argument">Γ</a> <a id="1018" class="Symbol">=</a> <a id="1020" href="CBPV.Effects.EffectSoundness.html#981" class="Bound">Γ</a><a id="1021" class="Symbol">}</a> <a id="1023" class="Symbol">(</a><a id="1024" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="1046" href="CBPV.Effects.EffectSoundness.html#993" class="Bound">⊢V</a><a id="1048" class="Symbol">)</a>

  <a id="fundamental-lemma-comp"></a><a id="1053" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1076" class="Symbol">:</a> <a id="1078" href="CBPV.Effects.SyntacticTyping.html#374" class="Generalizable">Γ</a> <a id="1080" href="CBPV.Effects.SyntacticTyping.html#1091" class="Datatype Operator">⊢c</a> <a id="1083" href="CBPV.Effects.Terms.html#819" class="Generalizable">M</a> <a id="1085" href="CBPV.Effects.SyntacticTyping.html#1091" class="Datatype Operator">⦂</a> <a id="1087" href="CBPV.Effects.Types.html#416" class="Generalizable">B</a> <a id="1089" href="CBPV.Effects.SyntacticTyping.html#1091" class="Datatype Operator">#</a> <a id="1091" href="Effects.html#848" class="Generalizable">φ</a>
                         <a id="1118" class="Symbol">→</a> <a id="1120" href="CBPV.Effects.SyntacticTyping.html#374" class="Generalizable">Γ</a> <a id="1122" href="CBPV.Effects.SemanticTyping.html#1599" class="Function Operator">⊨c</a> <a id="1125" href="CBPV.Effects.Terms.html#819" class="Generalizable">M</a> <a id="1127" href="CBPV.Effects.SemanticTyping.html#1599" class="Function Operator">⦂</a> <a id="1129" href="CBPV.Effects.Types.html#416" class="Generalizable">B</a> <a id="1131" href="CBPV.Effects.SemanticTyping.html#1599" class="Function Operator">#</a> <a id="1133" href="Effects.html#848" class="Generalizable">φ</a>
  <a id="1137" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1160" class="Symbol">(</a><a id="1161" href="CBPV.Effects.SyntacticTyping.html#1150" class="InductiveConstructor">typeAbs</a> <a id="1169" href="CBPV.Effects.EffectSoundness.html#1169" class="Bound">⊢M</a><a id="1171" class="Symbol">)</a> <a id="1173" class="Symbol">=</a>
    <a id="1179" href="CBPV.Effects.SemanticTyping.html#2701" class="Function">semanticAbs</a> <a id="1191" class="Symbol">(</a><a id="1192" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1215" href="CBPV.Effects.EffectSoundness.html#1169" class="Bound">⊢M</a><a id="1217" class="Symbol">)</a>
  <a id="1221" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1244" class="Symbol">{</a><a id="1245" class="Argument">Γ</a> <a id="1247" class="Symbol">=</a> <a id="1249" href="CBPV.Effects.EffectSoundness.html#1249" class="Bound">Γ</a><a id="1250" class="Symbol">}</a> <a id="1252" class="Symbol">(</a><a id="1253" href="CBPV.Effects.SyntacticTyping.html#1254" class="InductiveConstructor">typeApp</a> <a id="1261" href="CBPV.Effects.EffectSoundness.html#1261" class="Bound">⊢M</a> <a id="1264" href="CBPV.Effects.EffectSoundness.html#1264" class="Bound">⊢V</a><a id="1266" class="Symbol">)</a> <a id="1268" class="Symbol">=</a>
    <a id="1274" href="CBPV.Effects.SemanticTyping.html#2941" class="Function">semanticApp</a> <a id="1286" class="Symbol">{</a><a id="1287" class="Argument">Γ</a> <a id="1289" class="Symbol">=</a> <a id="1291" href="CBPV.Effects.EffectSoundness.html#1249" class="Bound">Γ</a><a id="1292" class="Symbol">}</a>
      <a id="1300" class="Symbol">(</a><a id="1301" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1324" href="CBPV.Effects.EffectSoundness.html#1261" class="Bound">⊢M</a><a id="1326" class="Symbol">)</a>
      <a id="1334" class="Symbol">(</a><a id="1335" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="1357" href="CBPV.Effects.EffectSoundness.html#1264" class="Bound">⊢V</a><a id="1359" class="Symbol">)</a>
  <a id="1363" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1386" class="Symbol">{</a><a id="1387" class="Argument">Γ</a> <a id="1389" class="Symbol">=</a> <a id="1391" href="CBPV.Effects.EffectSoundness.html#1391" class="Bound">Γ</a><a id="1392" class="Symbol">}</a> <a id="1394" class="Symbol">(</a><a id="1395" href="CBPV.Effects.SyntacticTyping.html#1379" class="InductiveConstructor">typeSequence</a> <a id="1408" class="Symbol">{</a><a id="1409" class="Argument">B</a> <a id="1411" class="Symbol">=</a> <a id="1413" href="CBPV.Effects.EffectSoundness.html#1413" class="Bound">B</a><a id="1414" class="Symbol">}</a> <a id="1416" href="CBPV.Effects.EffectSoundness.html#1416" class="Bound">⊢V</a> <a id="1419" href="CBPV.Effects.EffectSoundness.html#1419" class="Bound">⊢M</a><a id="1421" class="Symbol">)</a> <a id="1423" class="Symbol">=</a>
    <a id="1429" href="CBPV.Effects.SemanticTyping.html#3409" class="Function">semanticSequence</a> <a id="1446" class="Symbol">{</a><a id="1447" class="Argument">Γ</a> <a id="1449" class="Symbol">=</a> <a id="1451" href="CBPV.Effects.EffectSoundness.html#1391" class="Bound">Γ</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">{</a><a id="1455" class="Argument">B</a> <a id="1457" class="Symbol">=</a> <a id="1459" href="CBPV.Effects.EffectSoundness.html#1413" class="Bound">B</a><a id="1460" class="Symbol">}</a>
      <a id="1468" class="Symbol">(</a><a id="1469" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="1491" href="CBPV.Effects.EffectSoundness.html#1416" class="Bound">⊢V</a><a id="1493" class="Symbol">)</a>
      <a id="1501" class="Symbol">(</a><a id="1502" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1525" href="CBPV.Effects.EffectSoundness.html#1419" class="Bound">⊢M</a><a id="1527" class="Symbol">)</a>
  <a id="1531" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1554" class="Symbol">{</a><a id="1555" class="Argument">Γ</a> <a id="1557" class="Symbol">=</a> <a id="1559" href="CBPV.Effects.EffectSoundness.html#1559" class="Bound">Γ</a><a id="1560" class="Symbol">}</a> <a id="1562" class="Symbol">(</a><a id="1563" href="CBPV.Effects.SyntacticTyping.html#1909" class="InductiveConstructor">typeForce</a> <a id="1573" href="CBPV.Effects.EffectSoundness.html#1573" class="Bound">⊢V</a> <a id="1576" href="CBPV.Effects.EffectSoundness.html#1576" class="Bound">φ′≤φ</a><a id="1580" class="Symbol">)</a> <a id="1582" class="Symbol">=</a>
    <a id="1588" href="CBPV.Effects.SemanticTyping.html#4837" class="Function">semanticForce</a> <a id="1602" class="Symbol">{</a><a id="1603" class="Argument">Γ</a> <a id="1605" class="Symbol">=</a> <a id="1607" href="CBPV.Effects.EffectSoundness.html#1559" class="Bound">Γ</a><a id="1608" class="Symbol">}</a> <a id="1610" class="Symbol">(</a><a id="1611" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="1633" href="CBPV.Effects.EffectSoundness.html#1573" class="Bound">⊢V</a><a id="1635" class="Symbol">)</a> <a id="1637" href="CBPV.Effects.EffectSoundness.html#1576" class="Bound">φ′≤φ</a>
  <a id="1644" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1667" class="Symbol">{</a><a id="1668" class="Argument">Γ</a> <a id="1670" class="Symbol">=</a> <a id="1672" href="CBPV.Effects.EffectSoundness.html#1672" class="Bound">Γ</a><a id="1673" class="Symbol">}</a> <a id="1675" class="Symbol">(</a><a id="1676" href="CBPV.Effects.SyntacticTyping.html#2034" class="InductiveConstructor">typeRet</a> <a id="1684" href="CBPV.Effects.EffectSoundness.html#1684" class="Bound">⊢V</a> <a id="1687" href="CBPV.Effects.EffectSoundness.html#1687" class="Bound">pure≤φ</a><a id="1693" class="Symbol">)</a> <a id="1695" class="Symbol">=</a>
    <a id="1701" href="CBPV.Effects.SemanticTyping.html#5129" class="Function">semanticRet</a> <a id="1713" class="Symbol">{</a><a id="1714" class="Argument">Γ</a> <a id="1716" class="Symbol">=</a> <a id="1718" href="CBPV.Effects.EffectSoundness.html#1672" class="Bound">Γ</a><a id="1719" class="Symbol">}</a> <a id="1721" class="Symbol">(</a><a id="1722" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="1744" href="CBPV.Effects.EffectSoundness.html#1684" class="Bound">⊢V</a><a id="1746" class="Symbol">)</a> <a id="1748" href="CBPV.Effects.EffectSoundness.html#1687" class="Bound">pure≤φ</a>
  <a id="1757" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1780" class="Symbol">(</a><a id="1781" href="CBPV.Effects.SyntacticTyping.html#2159" class="InductiveConstructor">typeLetin</a> <a id="1791" class="Symbol">{</a><a id="1792" class="Argument">B</a> <a id="1794" class="Symbol">=</a> <a id="1796" href="CBPV.Effects.EffectSoundness.html#1796" class="Bound">B</a><a id="1797" class="Symbol">}</a> <a id="1799" href="CBPV.Effects.EffectSoundness.html#1799" class="Bound">⊢M</a> <a id="1802" href="CBPV.Effects.EffectSoundness.html#1802" class="Bound">⊢N</a> <a id="1805" href="CBPV.Effects.EffectSoundness.html#1805" class="Bound">φ₁+φ₂≤φ</a><a id="1812" class="Symbol">)</a> <a id="1814" class="Symbol">=</a>
    <a id="1820" href="CBPV.Effects.SemanticTyping.html#5398" class="Function">semanticLetin</a> <a id="1834" class="Symbol">{</a><a id="1835" class="Argument">B</a> <a id="1837" class="Symbol">=</a> <a id="1839" href="CBPV.Effects.EffectSoundness.html#1796" class="Bound">B</a><a id="1840" class="Symbol">}</a>
      <a id="1848" class="Symbol">(</a><a id="1849" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1872" href="CBPV.Effects.EffectSoundness.html#1799" class="Bound">⊢M</a><a id="1874" class="Symbol">)</a>
      <a id="1882" class="Symbol">(</a><a id="1883" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1906" href="CBPV.Effects.EffectSoundness.html#1802" class="Bound">⊢N</a><a id="1908" class="Symbol">)</a>
      <a id="1916" href="CBPV.Effects.EffectSoundness.html#1805" class="Bound">φ₁+φ₂≤φ</a>
  <a id="1926" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="1949" class="Symbol">{</a><a id="1950" class="Argument">B</a> <a id="1952" class="Symbol">=</a> <a id="1954" href="CBPV.Effects.EffectSoundness.html#1954" class="Bound">B</a><a id="1955" class="Symbol">}</a> <a id="1957" class="Symbol">(</a><a id="1958" href="CBPV.Effects.SyntacticTyping.html#2335" class="InductiveConstructor">typeSplit</a> <a id="1968" href="CBPV.Effects.EffectSoundness.html#1968" class="Bound">⊢V</a> <a id="1971" href="CBPV.Effects.EffectSoundness.html#1971" class="Bound">⊢M</a><a id="1973" class="Symbol">)</a> <a id="1975" class="Symbol">=</a>
    <a id="1981" href="CBPV.Effects.SemanticTyping.html#6004" class="Function">semanticSplit</a> <a id="1995" class="Symbol">{</a><a id="1996" class="Argument">B</a> <a id="1998" class="Symbol">=</a> <a id="2000" href="CBPV.Effects.EffectSoundness.html#1954" class="Bound">B</a><a id="2001" class="Symbol">}</a>
      <a id="2009" class="Symbol">(</a><a id="2010" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="2032" href="CBPV.Effects.EffectSoundness.html#1968" class="Bound">⊢V</a><a id="2034" class="Symbol">)</a>
      <a id="2042" class="Symbol">(</a><a id="2043" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2066" href="CBPV.Effects.EffectSoundness.html#1971" class="Bound">⊢M</a><a id="2068" class="Symbol">)</a>
  <a id="2072" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2095" class="Symbol">{</a><a id="2096" class="Argument">B</a> <a id="2098" class="Symbol">=</a> <a id="2100" href="CBPV.Effects.EffectSoundness.html#2100" class="Bound">B</a><a id="2101" class="Symbol">}</a> <a id="2103" class="Symbol">(</a><a id="2104" href="CBPV.Effects.SyntacticTyping.html#2489" class="InductiveConstructor">typeCase</a> <a id="2113" href="CBPV.Effects.EffectSoundness.html#2113" class="Bound">⊢V</a> <a id="2116" href="CBPV.Effects.EffectSoundness.html#2116" class="Bound">⊢M₁</a> <a id="2120" href="CBPV.Effects.EffectSoundness.html#2120" class="Bound">⊢M₂</a><a id="2123" class="Symbol">)</a> <a id="2125" class="Symbol">=</a>
    <a id="2131" href="CBPV.Effects.SemanticTyping.html#6363" class="Function">semanticCase</a> <a id="2144" class="Symbol">{</a><a id="2145" class="Argument">B</a> <a id="2147" class="Symbol">=</a> <a id="2149" href="CBPV.Effects.EffectSoundness.html#2100" class="Bound">B</a><a id="2150" class="Symbol">}</a>
      <a id="2158" class="Symbol">(</a><a id="2159" href="CBPV.Effects.EffectSoundness.html#399" class="Function">fundamental-lemma-val</a> <a id="2181" href="CBPV.Effects.EffectSoundness.html#2113" class="Bound">⊢V</a><a id="2183" class="Symbol">)</a>
      <a id="2191" class="Symbol">(</a><a id="2192" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2215" href="CBPV.Effects.EffectSoundness.html#2116" class="Bound">⊢M₁</a><a id="2218" class="Symbol">)</a>
      <a id="2226" class="Symbol">(</a><a id="2227" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2250" href="CBPV.Effects.EffectSoundness.html#2120" class="Bound">⊢M₂</a><a id="2253" class="Symbol">)</a>
  <a id="2257" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2280" class="Symbol">{</a><a id="2281" class="Argument">Γ</a> <a id="2283" class="Symbol">=</a> <a id="2285" href="CBPV.Effects.EffectSoundness.html#2285" class="Bound">Γ</a><a id="2286" class="Symbol">}</a> <a id="2288" class="Symbol">(</a><a id="2289" href="CBPV.Effects.SyntacticTyping.html#2696" class="InductiveConstructor">typeTick</a> <a id="2298" href="CBPV.Effects.EffectSoundness.html#2298" class="Bound">tock≤φ</a><a id="2304" class="Symbol">)</a> <a id="2306" class="Symbol">=</a>
    <a id="2312" href="CBPV.Effects.SemanticTyping.html#6894" class="Function">semanticTick</a> <a id="2325" class="Symbol">{</a><a id="2326" class="Argument">Γ</a> <a id="2328" class="Symbol">=</a> <a id="2330" href="CBPV.Effects.EffectSoundness.html#2285" class="Bound">Γ</a><a id="2331" class="Symbol">}</a> <a id="2333" href="CBPV.Effects.EffectSoundness.html#2298" class="Bound">tock≤φ</a>
  <a id="2342" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2365" class="Symbol">{</a><a id="2366" class="Argument">Γ</a> <a id="2368" class="Symbol">=</a> <a id="2370" href="CBPV.Effects.EffectSoundness.html#2370" class="Bound">Γ</a><a id="2371" class="Symbol">}</a> <a id="2373" class="Symbol">(</a><a id="2374" href="CBPV.Effects.SyntacticTyping.html#1520" class="InductiveConstructor">typeCpair</a> <a id="2384" href="CBPV.Effects.EffectSoundness.html#2384" class="Bound">⊢M₁</a> <a id="2388" href="CBPV.Effects.EffectSoundness.html#2388" class="Bound">⊢M₂</a><a id="2391" class="Symbol">)</a> <a id="2393" class="Symbol">=</a>
    <a id="2399" href="CBPV.Effects.SemanticTyping.html#3713" class="Function">semanticCpair</a> <a id="2413" class="Symbol">{</a><a id="2414" class="Argument">Γ</a> <a id="2416" class="Symbol">=</a> <a id="2418" href="CBPV.Effects.EffectSoundness.html#2370" class="Bound">Γ</a><a id="2419" class="Symbol">}</a>
      <a id="2427" class="Symbol">(</a><a id="2428" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2451" href="CBPV.Effects.EffectSoundness.html#2384" class="Bound">⊢M₁</a><a id="2454" class="Symbol">)</a>
      <a id="2462" class="Symbol">(</a><a id="2463" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2486" href="CBPV.Effects.EffectSoundness.html#2388" class="Bound">⊢M₂</a><a id="2489" class="Symbol">)</a>
  <a id="2493" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2516" class="Symbol">{</a><a id="2517" class="Argument">Γ</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="CBPV.Effects.EffectSoundness.html#2521" class="Bound">Γ</a><a id="2522" class="Symbol">}</a> <a id="2524" class="Symbol">(</a><a id="2525" href="CBPV.Effects.SyntacticTyping.html#1681" class="InductiveConstructor">typeProjl</a> <a id="2535" href="CBPV.Effects.EffectSoundness.html#2535" class="Bound">⊢M</a><a id="2537" class="Symbol">)</a> <a id="2539" class="Symbol">=</a>
    <a id="2545" href="CBPV.Effects.SemanticTyping.html#4017" class="Function">semanticProjl</a> <a id="2559" class="Symbol">{</a><a id="2560" class="Argument">Γ</a> <a id="2562" class="Symbol">=</a> <a id="2564" href="CBPV.Effects.EffectSoundness.html#2521" class="Bound">Γ</a><a id="2565" class="Symbol">}</a> <a id="2567" class="Symbol">(</a><a id="2568" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2591" href="CBPV.Effects.EffectSoundness.html#2535" class="Bound">⊢M</a><a id="2593" class="Symbol">)</a>
  <a id="2597" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2620" class="Symbol">{</a><a id="2621" class="Argument">Γ</a> <a id="2623" class="Symbol">=</a> <a id="2625" href="CBPV.Effects.EffectSoundness.html#2625" class="Bound">Γ</a><a id="2626" class="Symbol">}</a> <a id="2628" class="Symbol">(</a><a id="2629" href="CBPV.Effects.SyntacticTyping.html#1795" class="InductiveConstructor">typeProjr</a> <a id="2639" href="CBPV.Effects.EffectSoundness.html#2639" class="Bound">⊢M</a><a id="2641" class="Symbol">)</a> <a id="2643" class="Symbol">=</a>
    <a id="2649" href="CBPV.Effects.SemanticTyping.html#4427" class="Function">semanticProjr</a> <a id="2663" class="Symbol">{</a><a id="2664" class="Argument">Γ</a> <a id="2666" class="Symbol">=</a> <a id="2668" href="CBPV.Effects.EffectSoundness.html#2625" class="Bound">Γ</a><a id="2669" class="Symbol">}</a> <a id="2671" class="Symbol">(</a><a id="2672" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2695" href="CBPV.Effects.EffectSoundness.html#2639" class="Bound">⊢M</a><a id="2697" class="Symbol">)</a>

<a id="effect-soundness"></a><a id="2700" href="CBPV.Effects.EffectSoundness.html#2700" class="Function">effect-soundness</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="CBPV.Effects.SyntacticTyping.html#387" class="Function">∅</a> <a id="2721" href="CBPV.Effects.SyntacticTyping.html#1091" class="Datatype Operator">⊢c</a> <a id="2724" href="CBPV.Effects.Terms.html#819" class="Generalizable">M</a> <a id="2726" href="CBPV.Effects.SyntacticTyping.html#1091" class="Datatype Operator">⦂</a> <a id="2728" href="CBPV.Effects.Types.html#315" class="InductiveConstructor">𝑭</a> <a id="2730" href="CBPV.Effects.Types.html#389" class="Generalizable">A</a> <a id="2732" href="CBPV.Effects.SyntacticTyping.html#1091" class="Datatype Operator">#</a> <a id="2734" href="Effects.html#848" class="Generalizable">φ</a>
                 <a id="2753" class="Symbol">→</a> <a id="2755" href="Data.Product.html#1806" class="Function">∃[</a> <a id="2758" href="CBPV.Effects.EffectSoundness.html#2758" class="Bound">T</a> <a id="2760" href="Data.Product.html#1806" class="Function">]</a> <a id="2762" href="Data.Product.html#1806" class="Function">∃[</a> <a id="2765" href="CBPV.Effects.EffectSoundness.html#2765" class="Bound">φ′</a> <a id="2768" href="Data.Product.html#1806" class="Function">]</a> <a id="2770" href="CBPV.Effects.EffectSoundness.html#2765" class="Bound">φ′</a> <a id="2773" href="Effects.html#438" class="Field Operator">≤</a> <a id="2775" href="Effects.html#848" class="Generalizable">φ</a> <a id="2777" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2779" href="CBPV.Effects.Semantics.html#735" class="Function">∅ᵨ</a> <a id="2782" href="CBPV.Effects.Semantics.html#1352" class="Datatype Operator">⊢c</a> <a id="2785" href="CBPV.Effects.Terms.html#819" class="Generalizable">M</a> <a id="2787" href="CBPV.Effects.Semantics.html#1352" class="Datatype Operator">⇓</a> <a id="2789" href="CBPV.Effects.EffectSoundness.html#2758" class="Bound">T</a> <a id="2791" href="CBPV.Effects.Semantics.html#1352" class="Datatype Operator">#</a> <a id="2793" href="CBPV.Effects.EffectSoundness.html#2765" class="Bound">φ′</a>
<a id="2796" href="CBPV.Effects.EffectSoundness.html#2700" class="Function">effect-soundness</a> <a id="2813" href="CBPV.Effects.EffectSoundness.html#2813" class="Bound">⊢M</a>
  <a id="2818" class="Keyword">with</a> <a id="2823" href="CBPV.Effects.EffectSoundness.html#1053" class="Function">fundamental-lemma-comp</a> <a id="2846" href="CBPV.Effects.EffectSoundness.html#2813" class="Bound">⊢M</a> <a id="2849" class="Symbol">(λ</a> <a id="2852" class="Symbol">())</a>
<a id="2856" class="Symbol">...</a>  <a id="2861" class="Symbol">|</a> <a id="2863" href="CBPV.Effects.EffectSoundness.html#2863" class="Bound">T</a><a id="2864" class="Symbol">@(</a><a id="2866" href="CBPV.Effects.Semantics.html#450" class="InductiveConstructor Operator">return</a> <a id="2873" class="Symbol">_)</a> <a id="2876" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2878" href="CBPV.Effects.EffectSoundness.html#2878" class="Bound">φ′</a> <a id="2881" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2883" class="Symbol">_</a> <a id="2885" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2887" href="CBPV.Effects.EffectSoundness.html#2887" class="Bound">M⇓</a> <a id="2890" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2892" class="Symbol">(_</a> <a id="2895" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2897" href="CBPV.Effects.EffectSoundness.html#2897" class="Bound">pure≤φ″</a><a id="2904" class="Symbol">)</a> <a id="2906" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2908" href="CBPV.Effects.EffectSoundness.html#2908" class="Bound">φ′+φ″≤φ</a> <a id="2916" class="Symbol">=</a>
  <a id="2920" href="CBPV.Effects.EffectSoundness.html#2863" class="Bound">T</a> <a id="2922" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2924" href="CBPV.Effects.EffectSoundness.html#2878" class="Bound">φ′</a> <a id="2927" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2929" href="Effects.html#1104" class="Function">≤-+-invertʳ</a> <a id="2941" href="CBPV.Effects.EffectSoundness.html#2908" class="Bound">φ′+φ″≤φ</a> <a id="2949" href="CBPV.Effects.EffectSoundness.html#2897" class="Bound">pure≤φ″</a> <a id="2957" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2959" href="CBPV.Effects.EffectSoundness.html#2887" class="Bound">M⇓</a>
</pre></body></html>