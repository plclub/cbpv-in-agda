<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effects</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">import</a> <a id="8" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="46" class="Symbol">as</a> <a id="49" class="Module">Eq</a>
<a id="52" class="Keyword">open</a> <a id="57" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="60" class="Keyword">using</a> <a id="66" class="Symbol">(</a><a id="67" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="70" class="Symbol">;</a> <a id="72" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="76" class="Symbol">)</a>

<a id="79" class="Keyword">module</a> <a id="86" href="Effects.html" class="Module">Effects</a> <a id="94" class="Keyword">where</a>
  <a id="102" class="Keyword">record</a> <a id="Effect"></a><a id="109" href="Effects.html#109" class="Record">Effect</a> <a id="116" class="Symbol">:</a> <a id="118" href="Agda.Primitive.html#326" class="Primitive">Set₁</a> <a id="123" class="Keyword">where</a>
    <a id="133" class="Keyword">infix</a> <a id="139" class="Number">4</a> <a id="141" href="Effects.html#438" class="Field Operator">_≤_</a>
    <a id="149" class="Keyword">infixl</a> <a id="156" class="Number">6</a> <a id="158" href="Effects.html#231" class="Field Operator">_+_</a>

    <a id="167" class="Keyword">field</a>
      <a id="Effect.Eff"></a><a id="179" href="Effects.html#179" class="Field">Eff</a> <a id="183" class="Symbol">:</a> <a id="185" href="Agda.Primitive.html#326" class="Primitive">Set</a>

      <a id="Effect.pure"></a><a id="196" href="Effects.html#196" class="Field">pure</a> <a id="201" class="Symbol">:</a> <a id="203" href="Effects.html#179" class="Field">Eff</a>
      <a id="Effect.tock"></a><a id="213" href="Effects.html#213" class="Field">tock</a> <a id="218" class="Symbol">:</a> <a id="220" href="Effects.html#179" class="Field">Eff</a>

      <a id="Effect._+_"></a><a id="231" href="Effects.html#231" class="Field Operator">_+_</a> <a id="235" class="Symbol">:</a> <a id="237" href="Effects.html#179" class="Field">Eff</a> <a id="241" class="Symbol">→</a> <a id="243" href="Effects.html#179" class="Field">Eff</a> <a id="247" class="Symbol">→</a> <a id="249" href="Effects.html#179" class="Field">Eff</a>

      <a id="Effect.+-assoc"></a><a id="260" href="Effects.html#260" class="Field">+-assoc</a> <a id="268" class="Symbol">:</a> <a id="270" class="Symbol">∀</a> <a id="272" class="Symbol">{</a><a id="273" href="Effects.html#273" class="Bound">φ₁</a> <a id="276" href="Effects.html#276" class="Bound">φ₂</a> <a id="279" href="Effects.html#279" class="Bound">φ₃</a> <a id="282" class="Symbol">:</a> <a id="284" href="Effects.html#179" class="Field">Eff</a><a id="287" class="Symbol">}</a>
              <a id="303" class="Symbol">→</a> <a id="305" class="Symbol">(</a><a id="306" href="Effects.html#273" class="Bound">φ₁</a> <a id="309" href="Effects.html#231" class="Field Operator">+</a> <a id="311" href="Effects.html#276" class="Bound">φ₂</a><a id="313" class="Symbol">)</a> <a id="315" href="Effects.html#231" class="Field Operator">+</a> <a id="317" href="Effects.html#279" class="Bound">φ₃</a> <a id="320" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="322" href="Effects.html#273" class="Bound">φ₁</a> <a id="325" href="Effects.html#231" class="Field Operator">+</a> <a id="327" class="Symbol">(</a><a id="328" href="Effects.html#276" class="Bound">φ₂</a> <a id="331" href="Effects.html#231" class="Field Operator">+</a> <a id="333" href="Effects.html#279" class="Bound">φ₃</a><a id="335" class="Symbol">)</a>

      <a id="Effect.+-pure-idʳ"></a><a id="344" href="Effects.html#344" class="Field">+-pure-idʳ</a> <a id="355" class="Symbol">:</a> <a id="357" class="Symbol">∀</a> <a id="359" class="Symbol">{</a><a id="360" href="Effects.html#360" class="Bound">φ</a> <a id="362" class="Symbol">:</a> <a id="364" href="Effects.html#179" class="Field">Eff</a><a id="367" class="Symbol">}</a> <a id="369" class="Symbol">→</a> <a id="371" href="Effects.html#360" class="Bound">φ</a> <a id="373" href="Effects.html#231" class="Field Operator">+</a> <a id="375" href="Effects.html#196" class="Field">pure</a> <a id="380" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="382" href="Effects.html#360" class="Bound">φ</a>

      <a id="Effect.+-pure-idˡ"></a><a id="391" href="Effects.html#391" class="Field">+-pure-idˡ</a> <a id="402" class="Symbol">:</a> <a id="404" class="Symbol">∀</a> <a id="406" class="Symbol">{</a><a id="407" href="Effects.html#407" class="Bound">φ</a> <a id="409" class="Symbol">:</a> <a id="411" href="Effects.html#179" class="Field">Eff</a><a id="414" class="Symbol">}</a> <a id="416" class="Symbol">→</a> <a id="418" href="Effects.html#196" class="Field">pure</a> <a id="423" href="Effects.html#231" class="Field Operator">+</a> <a id="425" href="Effects.html#407" class="Bound">φ</a> <a id="427" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="429" href="Effects.html#407" class="Bound">φ</a>

      <a id="Effect._≤_"></a><a id="438" href="Effects.html#438" class="Field Operator">_≤_</a> <a id="442" class="Symbol">:</a> <a id="444" href="Effects.html#179" class="Field">Eff</a> <a id="448" class="Symbol">→</a> <a id="450" href="Effects.html#179" class="Field">Eff</a> <a id="454" class="Symbol">→</a> <a id="456" href="Agda.Primitive.html#326" class="Primitive">Set</a>

      <a id="Effect.≤-refl"></a><a id="467" href="Effects.html#467" class="Field">≤-refl</a> <a id="474" class="Symbol">:</a> <a id="476" class="Symbol">∀</a> <a id="478" class="Symbol">{</a><a id="479" href="Effects.html#479" class="Bound">φ</a> <a id="481" class="Symbol">:</a> <a id="483" href="Effects.html#179" class="Field">Eff</a><a id="486" class="Symbol">}</a> <a id="488" class="Symbol">→</a> <a id="490" href="Effects.html#479" class="Bound">φ</a> <a id="492" href="Effects.html#438" class="Field Operator">≤</a> <a id="494" href="Effects.html#479" class="Bound">φ</a>

      <a id="Effect.≤-trans"></a><a id="503" href="Effects.html#503" class="Field">≤-trans</a> <a id="511" class="Symbol">:</a> <a id="513" class="Symbol">∀</a> <a id="515" class="Symbol">{</a><a id="516" href="Effects.html#516" class="Bound">φ₁</a> <a id="519" href="Effects.html#519" class="Bound">φ₂</a> <a id="522" href="Effects.html#522" class="Bound">φ₃</a> <a id="525" class="Symbol">:</a> <a id="527" href="Effects.html#179" class="Field">Eff</a><a id="530" class="Symbol">}</a>
              <a id="546" class="Symbol">→</a> <a id="548" href="Effects.html#516" class="Bound">φ₁</a> <a id="551" href="Effects.html#438" class="Field Operator">≤</a> <a id="553" href="Effects.html#519" class="Bound">φ₂</a>
              <a id="570" class="Symbol">→</a> <a id="572" href="Effects.html#519" class="Bound">φ₂</a> <a id="575" href="Effects.html#438" class="Field Operator">≤</a> <a id="577" href="Effects.html#522" class="Bound">φ₃</a>
              <a id="594" class="Symbol">→</a> <a id="596" href="Effects.html#516" class="Bound">φ₁</a> <a id="599" href="Effects.html#438" class="Field Operator">≤</a> <a id="601" href="Effects.html#522" class="Bound">φ₃</a>

      <a id="Effect.≤-+-compatibleʳ"></a><a id="611" href="Effects.html#611" class="Field">≤-+-compatibleʳ</a> <a id="627" class="Symbol">:</a> <a id="629" class="Symbol">∀</a> <a id="631" class="Symbol">{</a><a id="632" href="Effects.html#632" class="Bound">φ₁</a> <a id="635" href="Effects.html#635" class="Bound">φ₂</a> <a id="638" href="Effects.html#638" class="Bound">ψ</a> <a id="640" class="Symbol">:</a> <a id="642" href="Effects.html#179" class="Field">Eff</a><a id="645" class="Symbol">}</a>
                      <a id="669" class="Symbol">→</a> <a id="671" href="Effects.html#632" class="Bound">φ₁</a> <a id="674" href="Effects.html#438" class="Field Operator">≤</a> <a id="676" href="Effects.html#635" class="Bound">φ₂</a>
                      <a id="701" class="Symbol">→</a> <a id="703" href="Effects.html#632" class="Bound">φ₁</a> <a id="706" href="Effects.html#231" class="Field Operator">+</a> <a id="708" href="Effects.html#638" class="Bound">ψ</a> <a id="710" href="Effects.html#438" class="Field Operator">≤</a> <a id="712" href="Effects.html#635" class="Bound">φ₂</a> <a id="715" href="Effects.html#231" class="Field Operator">+</a> <a id="717" href="Effects.html#638" class="Bound">ψ</a>

      <a id="Effect.≤-+-compatibleˡ"></a><a id="726" href="Effects.html#726" class="Field">≤-+-compatibleˡ</a> <a id="742" class="Symbol">:</a> <a id="744" class="Symbol">∀</a> <a id="746" class="Symbol">{</a><a id="747" href="Effects.html#747" class="Bound">φ₁</a> <a id="750" href="Effects.html#750" class="Bound">φ₂</a> <a id="753" href="Effects.html#753" class="Bound">ψ</a> <a id="755" class="Symbol">:</a> <a id="757" href="Effects.html#179" class="Field">Eff</a><a id="760" class="Symbol">}</a>
                      <a id="784" class="Symbol">→</a> <a id="786" href="Effects.html#747" class="Bound">φ₁</a> <a id="789" href="Effects.html#438" class="Field Operator">≤</a> <a id="791" href="Effects.html#750" class="Bound">φ₂</a>
                      <a id="816" class="Symbol">→</a> <a id="818" href="Effects.html#753" class="Bound">ψ</a> <a id="820" href="Effects.html#231" class="Field Operator">+</a> <a id="822" href="Effects.html#747" class="Bound">φ₁</a> <a id="825" href="Effects.html#438" class="Field Operator">≤</a> <a id="827" href="Effects.html#753" class="Bound">ψ</a> <a id="829" href="Effects.html#231" class="Field Operator">+</a> <a id="831" href="Effects.html#750" class="Bound">φ₂</a>

    <a id="839" class="Keyword">variable</a> <a id="848" href="Effects.html#848" class="Generalizable">φ</a> <a id="850" href="Effects.html#850" class="Generalizable">φ′</a> <a id="853" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="856" href="Effects.html#856" class="Generalizable">φ₂</a> <a id="859" href="Effects.html#859" class="Generalizable">φ₃</a> <a id="862" href="Effects.html#862" class="Generalizable">ψ</a> <a id="864" href="Effects.html#864" class="Generalizable">ψ₁</a> <a id="867" href="Effects.html#867" class="Generalizable">ψ₂</a> <a id="870" class="Symbol">:</a> <a id="872" href="Effects.html#179" class="Field">Eff</a>

  <a id="879" class="Keyword">module</a> <a id="Properties"></a><a id="886" href="Effects.html#886" class="Module">Properties</a> <a id="897" class="Symbol">(</a><a id="898" href="Effects.html#898" class="Bound">E</a> <a id="900" class="Symbol">:</a> <a id="902" href="Effects.html#109" class="Record">Effect</a><a id="908" class="Symbol">)</a> <a id="910" class="Keyword">where</a>
    <a id="920" class="Keyword">open</a> <a id="925" href="Effects.html#109" class="Module">Effect</a> <a id="932" href="Effects.html#898" class="Bound">E</a>

    <a id="Properties.≤-+ʳ"></a><a id="939" href="Effects.html#939" class="Function">≤-+ʳ</a> <a id="944" class="Symbol">:</a> <a id="946" href="Effects.html#196" class="Field">pure</a> <a id="951" href="Effects.html#438" class="Field Operator">≤</a> <a id="953" href="Effects.html#856" class="Generalizable">φ₂</a> <a id="956" class="Symbol">→</a> <a id="958" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="961" href="Effects.html#438" class="Field Operator">≤</a> <a id="963" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="966" href="Effects.html#231" class="Field Operator">+</a> <a id="968" href="Effects.html#856" class="Generalizable">φ₂</a>
    <a id="975" href="Effects.html#939" class="Function">≤-+ʳ</a> <a id="980" class="Symbol">{</a><a id="981" href="Effects.html#981" class="Bound">φ₂</a><a id="983" class="Symbol">}</a> <a id="985" class="Symbol">{</a><a id="986" href="Effects.html#986" class="Bound">φ₁</a><a id="988" class="Symbol">}</a> <a id="990" href="Effects.html#990" class="Bound">pure≤φ₂</a>
      <a id="1004" class="Keyword">with</a> <a id="1009" href="Effects.html#726" class="Field">≤-+-compatibleˡ</a> <a id="1025" class="Symbol">{</a><a id="1026" href="Effects.html#196" class="Field">pure</a><a id="1030" class="Symbol">}</a> <a id="1032" class="Symbol">{</a><a id="1033" href="Effects.html#981" class="Bound">φ₂</a><a id="1035" class="Symbol">}</a> <a id="1037" class="Symbol">{</a><a id="1038" href="Effects.html#986" class="Bound">φ₁</a><a id="1040" class="Symbol">}</a> <a id="1042" href="Effects.html#990" class="Bound">pure≤φ₂</a>
    <a id="1054" class="Symbol">...</a>  <a id="1059" class="Symbol">|</a> <a id="1061" href="Effects.html#1061" class="Bound">pf</a>
      <a id="1070" class="Keyword">rewrite</a> <a id="1078" href="Effects.html#344" class="Field">+-pure-idʳ</a> <a id="1089" class="Symbol">{</a><a id="1090" class="Bound">φ₁</a><a id="1092" class="Symbol">}</a> <a id="1094" class="Symbol">=</a> <a id="1096" href="Effects.html#1061" class="Bound">pf</a>

    <a id="Properties.≤-+-invertʳ"></a><a id="1104" href="Effects.html#1104" class="Function">≤-+-invertʳ</a> <a id="1116" class="Symbol">:</a> <a id="1118" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="1121" href="Effects.html#231" class="Field Operator">+</a> <a id="1123" href="Effects.html#848" class="Generalizable">φ</a> <a id="1125" href="Effects.html#438" class="Field Operator">≤</a> <a id="1127" href="Effects.html#856" class="Generalizable">φ₂</a>
                <a id="1146" class="Symbol">→</a> <a id="1148" href="Effects.html#196" class="Field">pure</a> <a id="1153" href="Effects.html#438" class="Field Operator">≤</a> <a id="1155" href="Effects.html#848" class="Generalizable">φ</a>
                <a id="1173" class="Symbol">→</a> <a id="1175" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="1178" href="Effects.html#438" class="Field Operator">≤</a> <a id="1180" href="Effects.html#856" class="Generalizable">φ₂</a>
    <a id="1187" href="Effects.html#1104" class="Function">≤-+-invertʳ</a> <a id="1199" href="Effects.html#1199" class="Bound">pf</a> <a id="1202" href="Effects.html#1202" class="Bound">pure≤φ</a> <a id="1209" class="Symbol">=</a> <a id="1211" href="Effects.html#503" class="Field">≤-trans</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Effects.html#939" class="Function">≤-+ʳ</a> <a id="1225" href="Effects.html#1202" class="Bound">pure≤φ</a><a id="1231" class="Symbol">)</a> <a id="1233" href="Effects.html#1199" class="Bound">pf</a>

    <a id="Properties.≡→≤"></a><a id="1241" href="Effects.html#1241" class="Function">≡→≤</a> <a id="1245" class="Symbol">:</a> <a id="1247" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="1250" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1252" href="Effects.html#856" class="Generalizable">φ₂</a>
        <a id="1263" class="Symbol">→</a> <a id="1265" href="Effects.html#853" class="Generalizable">φ₁</a> <a id="1268" href="Effects.html#438" class="Field Operator">≤</a> <a id="1270" href="Effects.html#856" class="Generalizable">φ₂</a>
    <a id="1277" href="Effects.html#1241" class="Function">≡→≤</a> <a id="1281" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1286" class="Symbol">=</a> <a id="1288" href="Effects.html#467" class="Field">≤-refl</a>
</pre></body></html>